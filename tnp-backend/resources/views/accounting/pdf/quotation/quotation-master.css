/* ===== Base ===== */
body{
  font-family:'thsarabun','DejaVu Sans',sans-serif;
  font-size:11pt; /* ลดลงให้ดูกะทัดรัด */
  line-height:1.35;
  color:#333;
  margin:0;
  padding:20pt;
}

h1{font-size:20pt;font-weight:bold;margin:0 0 8pt;color:#2c3e50}
h2{font-size:16pt;font-weight:bold;margin:12pt 0 6pt;color:#34495e}
h3{font-size:13pt;font-weight:bold;margin:10pt 0 6pt;color:#34495e}

/* ===== Reset any potential Bootstrap conflicts ===== */
* {
  box-sizing: border-box;
}

.clearfix:after {
  content: "";
  display: table;
  clear: both;
}

/* ===== Info Box ===== */
.info-box{
  background:#f8f9fa;
  border:1px solid #e9ecef;
  border-radius:6pt;
  padding:12pt;
  margin-bottom:15pt;
  width:100%;
}

.info-box table {
  width: 100%;
  border-collapse: collapse;
}

.info-box td {
  padding: 4pt 8pt;
  vertical-align: top;
}

/* ===== Tables ===== */
table{
  border-collapse:collapse;
  width:100%;
  margin-bottom: 15pt;
}

/* Items table */
.items-table th,.items-table td{
  padding:6pt 8pt;
  border: 1px solid #dee2e6;
}

.items-table thead th{
  border-bottom:2px solid #9fb3c8;
  background:#eef2f5;
  text-align:center;
  font-weight: bold;
}

.items-table .num{width:7%;text-align:center}
.items-table .desc{width:53%}
.items-table .qty{width:14%;text-align:center}
.items-table .price{width:13%;text-align:right}
.items-table .amount{width:13%;text-align:right}

/* Group styling */
.group-body{page-break-inside:avoid}
.group-box{
  page-break-inside:avoid;
  border: 1px solid #e5edf5;
  margin: 5pt 0;
}

.group-inner{
  width:100%;
  border-collapse:collapse;
}

.group-inner td{
  padding:6pt 8pt;
  border-bottom: 1px solid #f0f0f0;
}

.group-inner .title{
  font-weight:bold;
  background:#fafbfc;
  border-top:2px solid #dee5ed;
  border-bottom:1px solid #e3e9ef;
}

.meta-light{color:#6e7b88;font-weight:normal}

/* ===== Summary and Notes Section (Fixed Layout) ===== */
/* ===== Summary and Notes Layout - Float Layout for Page Break ===== */
.summary-notes-container {
  width: 100%;
  margin: 24pt 0;
  clear: both;
  overflow: hidden; /* สำคัญ: เพื่อจัดการ float */
}

/* Page break friendly container */
.summary-notes-split {
  page-break-inside: auto;
  margin-bottom: 20pt;
}

/* Notes section (left) */
.notes-left {
  width: 45%;
  float: left;
  margin-right: 5%;
  padding: 10pt;
  border: 1px solid #dee2e6;
  background: #f8f9fa;
  min-height: 80pt;
  page-break-inside: auto;
}

.notes-left h3 {
  font-size: 14pt;
  font-weight: bold;
  margin-bottom: 8pt;
  color: #495057;
  border-bottom: 1px solid #dee2e6;
  padding-bottom: 4pt;
}

.notes-left .notes-content {
  font-size: 11pt;
  line-height: 1.4;
  color: #666;
}

/* Summary section (right) */
.summary-right {
  width: 45%;
  float: right;
  padding: 10pt;
  border: 1px solid #dee2e6;
  background: #fff;
  page-break-inside: auto;
}

.summary-right h3 {
  font-size: 14pt;
  font-weight: bold;
  margin-bottom: 8pt;
  color: #495057;
  text-align: center;
  border-bottom: 1px solid #dee2e6;
  padding-bottom: 4pt;
}

.summary-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 11pt;
}

.summary-table td {
  padding: 6pt 8pt;
  border-bottom: 1px solid #dee2e6;
}

.summary-table .summary-label {
  text-align: left;
  width: 60%;
}

.summary-table .summary-amount {
  text-align: right;
  width: 40%;
  font-weight: bold;
}

/* เรียบ: ไม่ใช้พื้นหลังเข้ม / เส้นหนา */
.summary-table .total-row { background:transparent; border-top:1px solid #d0d7dd; }
.summary-table .total-row td { font-weight:600; color:#1e4d79; padding:6pt 8pt; }
.summary-table .total-row .summary-amount { font-size:11pt; }

.reading {
  font-size: 9pt;
  font-style: italic;
  color: #666;
  margin-top: 4pt;
  font-weight: normal;
}

/* Clear floats */
.clearfix {
  clear: both;
  height: 0;
  font-size: 0;
  line-height: 0;
}

/* Media Query สำหรับหน้าจอเล็ก - ให้เป็น full width */
@media print, (max-width: 600pt) {
  .notes-section-float,
  .summary-section-float {
    width: 100%;
    float: none;
    padding-right: 0;
    margin-bottom: 15pt;
  }
}

/* ปรับ total-row เดิมให้บางลง */
.total-row { background:transparent !important; }
.total-row .summary-label,
.total-row .summary-amount{ color:#1e4d79 !important; font-weight:600 !important; font-size:11pt !important; }

.reading{
  color:#6c757d;
  font-size:9pt;        /* ลดขนาดจาก 10pt เป็น 9pt */
  margin-top:4pt;
  font-style:italic;
  display: block;
}

/* ===== Signature Section ===== */
.signature-section{
  margin-top:36pt;
  page-break-inside:avoid;
  width: 100%;
}

.signature-table {
  width: 100%;
  border-collapse: collapse;
}

.signature-cell {
  width: 50%;
  text-align: center;
  vertical-align: top;
  padding: 12pt;
}

.signature-box{
  width:200pt;
  height:60pt;
  border-bottom:1pt solid #333;
  margin-bottom:8pt;
  display:block;
  margin-left:auto;
  margin-right:auto;
}

/* ===== Utility Classes ===== */
.text-right{text-align:right}
.text-center{text-align:center}
.text-muted{color:#6c757d}
.mb-3{margin-bottom:12pt}
.mb-4{margin-bottom:16pt}
.mt-4{margin-top:16pt}

/* Prevent page breaks in critical sections */
thead{display:table-header-group}
tfoot{display:table-footer-group}
tr{page-break-inside:avoid}

/* === ตารางแบบรูปที่ 2 (Minimal lines) === */
.items-table.slim th,
.items-table.slim td {
  padding: 5pt 5pt;
  border: none;                 /* ตัดกรอบเซลล์เดิม */
  background: transparent;
  vertical-align: top;
  font-size: 10pt;              /* ลดขนาดตัวอักษร */
}

.items-table.slim thead th {
  font-weight: bold;
  text-align: right;
  border-bottom: 0.6pt solid #666;  /* เส้นคั่นหัวตารางแบบบาง */
  font-size: 11pt;              /* หัวตารางใหญ่กว่าเนื้อหาเล็กน้อย */
}
.items-table.slim thead th:first-child { text-align: left; }

.items-table.slim .desc { text-align: left; }
.items-table.slim .num  { text-align: right; white-space: nowrap; }
.items-table.slim .muted{ color:#888; }

/* หัวข้อกลุ่ม (parent) */
.items-table.slim .group-row td {
  font-weight: bold;
  padding-top: 8pt;
  padding-bottom: 5pt;
  border-bottom: 0.6pt solid #999;   /* เส้นคั่นใต้หัวข้อ */
  font-size: 11pt;               /* หัวข้อกลุ่มใหญ่กว่าข้อมูลเล็กน้อย */
  background-color: #f8f9fa;    /* สีพื้นหลังอ่อนๆ */
}

/* แถวรายการย่อย (child) */
.items-table.slim .item-row td {
  padding-top: 6pt;
  padding-bottom: 6pt;
  border-bottom: 0.6pt solid #ddd;   /* เส้นคั่นใต้รายการ */
  font-size: 10pt;               /* ข้อมูลรายการย่อย */
}
.items-table.slim .desc.child { 
  padding-left: 16pt;            /* เพิ่มการย่อหน้าให้มากขึ้น */
  text-indent: 0;                /* ไม่ใช้ text-indent */
}

/* กล่องข้อมูลลูกค้าแบบบล็อก */
.customer-box{
  border-radius:6pt;
  padding:12pt;
  margin-top:-6pt;        /* ยกกล่องขึ้นเล็กน้อย ลดช่องว่างหลัง header */
}
.customer-name{
  font-weight:bold;
  font-size:12pt;          /* ให้ตามหัวบริษัทใหม่ */
  color:#2c3e50;
  margin-bottom:2pt;
}
.customer-line{
  font-size:9pt;           /* ให้ตาม company-addr */
  color:#34495e;
  margin:2pt 0;
  line-height:1.34;
}
.customer-line.muted{ color:#6c757d; }

/* === Compact overrides (moved from inline <style>) === */
/* ใช้เมื่ออยากลดขนาดตัวเลขไม่ให้ตกรวมบรรทัด */
.table-numbers-sm td.num,
.table-numbers-sm th.text-right { font-size:10pt !important; }

/* ปรับคำอธิบาย (desc) ในตารางแบบ slim ให้ใหญ่กว่าตัวเลขเล็กน้อย */
.items-table.slim.table-numbers-sm td.desc { font-size:10.5pt; }

/* Summary table compact mode */
.summary-table.summary-compact { font-size:9.5pt; }
.summary-table.summary-compact td,
.summary-table.summary-compact th { font-size:9.5pt !important; }
.summary-table.summary-compact .total-row .summary-label,
.summary-table.summary-compact .total-row .summary-amount { font-size:10.5pt !important; }

/* === Layout: Summary & Notes (table variant) === */
.summary-notes-wrapper { page-break-inside:auto; margin-top:15pt; }
.summary-notes-table { width:100%; border-collapse:separate; border-spacing:10pt 0; }

/* Panels */
.panel-box { vertical-align:top; padding:6pt 4pt; border:none; background:transparent; }
.panel-notes { background:transparent; }
.panel-title { font-size:12pt; font-weight:600; margin:0 0 4pt; color:#2f3d48; }
.panel-title--sm { font-size:11pt; }
.panel-title--xs { font-size:10.5pt; }
.panel-title.center { text-align:center; }
.panel-content { font-size:9.5pt; line-height:1.35; color:#555; }

/* Signature spacing utility */
.mt-8 { margin-top:8pt !important; }

/* No items box */
.no-items-box { text-align:center; padding:20pt; border:1px solid #dee2e6; background:#f8f9fa; }

/* Column width helpers for items table */
col.w-desc { width:60%; }
col.w-unit-price { width:15%; }
col.w-qty { width:10%; }
col.w-total { width:15%; }

/* Prevent line break for main amount line */
.summary-amount .amount-main { white-space:nowrap; }
