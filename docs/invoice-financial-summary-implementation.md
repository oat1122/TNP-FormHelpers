# р╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕е "р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕У" - Invoice Financial Summary

## р╕ар╕▓р╕Юр╕гр╕зр╕б (Overview)

р╣Др╕Фр╣Йр╕кр╕гр╣Йр╕▓р╕З **FinancialSummarySection** р╣Ар╕Ыр╣Зр╕Щ shared component р╣Гр╕лр╕бр╣Ир╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕Зр╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щр╣Бр╕Ър╕Ър╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щр╣Гр╕Щ InvoiceDetailDialog р╕Хр╕▓р╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б invoices table

## Component р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╕бр╣И

### `FinancialSummarySection.jsx`
- **р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕З**: `/shared/components/FinancialSummarySection.jsx`
- **р╕зр╕▒р╕Хр╕Цр╕╕р╕Ыр╕гр╕░р╕кр╕Зр╕Др╣М**: р╣Бр╕кр╕Фр╕Зр╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щ р╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╣Бр╕Ър╕Ър╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
- **Features**:
  - р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
  - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕бр╕▒р╕Фр╕Ир╕│ (deposit)
  - р╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ
  - р╕ар╕▓р╕йр╕╡р╕бр╕╣р╕ер╕Др╣Ир╕▓р╣Ар╕Юр╕┤р╣Ир╕б (VAT)
  - р╕лр╕▒р╕Бр╕ар╕▓р╕йр╕╡ р╕У р╕Чр╕╡р╣Ир╕Ир╣Ир╕▓р╕в (Withholding Tax)
  - р╕кр╣Ир╕зр╕Щр╕ер╕Фр╕Юр╕┤р╣Ар╕ир╕й

## р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Бр╕кр╕Фр╕З (Data Fields)

### р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щ
```javascript
- subtotal: р╕вр╕нр╕Фр╕гр╕зр╕б (р╣Др╕бр╣Ир╕гр╕зр╕бр╕ар╕▓р╕йр╕╡)
- special_discount_amount: р╕кр╣Ир╕зр╕Щр╕ер╕Фр╕Юр╕┤р╣Ар╕ир╕й  
- vat_amount: р╕ар╕▓р╕йр╕╡р╕бр╕╣р╕ер╕Др╣Ир╕▓р╣Ар╕Юр╕┤р╣Ир╕б (7%)
- withholding_tax_amount: р╕лр╕▒р╕Бр╕ар╕▓р╕йр╕╡ р╕У р╕Чр╕╡р╣Ир╕Ир╣Ир╕▓р╕в (1-3%)
- final_total_amount: р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕Зр╕┤р╕Щр╕гр╕зр╕бр╕Чр╕▒р╣Йр╕Зр╕кр╕┤р╣Йр╕Щ
```

### р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕бр╕▒р╕Фр╕Ир╕│
```javascript
- deposit_mode: р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕бр╕▒р╕Фр╕Ир╕│ (percentage/amount)
- deposit_percentage: р╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣Мр╕бр╕▒р╕Фр╕Ир╕│
- deposit_amount: р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╕бр╕▒р╕Фр╕Ир╕│
```

### р╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ
```javascript
- paid_amount: р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╕Чр╕╡р╣Ир╕Кр╕│р╕гр╕░р╣Бр╕ер╣Йр╕з
- remainingAmount: р╕вр╕нр╕Фр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н (calculated)
- due_date: р╕зр╕▒р╕Щр╕Др╕гр╕Ър╕Бр╕│р╕лр╕Щр╕Фр╕Кр╕│р╕гр╕░
```

## р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕е (Example Display)

### р╣Гр╕Ър╣Бр╕Ир╣Йр╕Зр╕лр╕Щр╕╡р╣Й INV202509-0001:

#### р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щ
```
р╕вр╕нр╕Фр╕гр╕зр╕б (р╣Др╕бр╣Ир╕гр╕зр╕бр╕ар╕▓р╕йр╕╡)        р╕┐7,200.00
р╕ар╕▓р╕йр╕╡р╕бр╕╣р╕ер╕Др╣Ир╕▓р╣Ар╕Юр╕┤р╣Ир╕б (7.00%)      р╕┐504.00
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕Зр╕┤р╕Щр╕гр╕зр╕бр╕Чр╕▒р╣Йр╕Зр╕кр╕┤р╣Йр╕Щ        р╕┐7,704.00
```

#### р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕бр╕▒р╕Фр╕Ир╕│
```
р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕бр╕▒р╕Фр╕Ир╕│:        [р╕Др╕┤р╕Фр╣Ар╕Ыр╣Зр╕Щр╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣М]
р╣Ар╕Ыр╕нр╕гр╣Мр╣Ар╕Лр╣Зр╕Щр╕Хр╣Мр╕бр╕▒р╕Фр╕Ир╕│:        50.00%
р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╕бр╕▒р╕Фр╕Ир╕│:          р╕┐3,852.00
```

#### р╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ
```
р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Кр╕│р╕гр╕░      р╕┐7,704.00
р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╕Чр╕╡р╣Ир╕Кр╕│р╕гр╕░р╣Бр╕ер╣Йр╕з      р╕┐0.00
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
р╕вр╕нр╕Фр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н           р╕┐7,704.00

р╕кр╕Цр╕▓р╕Щр╕░: [р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╕Кр╕│р╕гр╕░]
р╕зр╕▒р╕Щр╕Др╕гр╕Ър╕Бр╕│р╕лр╕Щр╕Фр╕Кр╕│р╕гр╕░: 29 р╕Б.р╕в. 2568
```

### р╣Гр╕Ър╣Бр╕Ир╣Йр╕Зр╕лр╕Щр╕╡р╣Й INV202509-0002 (р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Чр╕╡р╣Ир╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ):

#### р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щ
```
р╕вр╕нр╕Фр╕гр╕зр╕б (р╣Др╕бр╣Ир╕гр╕зр╕бр╕ар╕▓р╕йр╕╡)        р╕┐76,800.00
р╕кр╣Ир╕зр╕Щр╕ер╕Фр╕Юр╕┤р╣Ар╕ир╕й                -р╕┐1,000.00
р╕ар╕▓р╕йр╕╡р╕бр╕╣р╕ер╕Др╣Ир╕▓р╣Ар╕Юр╕┤р╣Ир╕б (7.00%)      р╕┐5,376.00
р╕лр╕▒р╕Бр╕ар╕▓р╕йр╕╡ р╕У р╕Чр╕╡р╣Ир╕Ир╣Ир╕▓р╕в (3.00%)     -р╕┐2,274.00
тФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА
р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕Зр╕┤р╕Щр╕гр╕зр╕бр╕Чр╕▒р╣Йр╕Зр╕кр╕┤р╣Йр╕Щ        р╕┐78,902.00
```

#### р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕бр╕▒р╕Фр╕Ир╕│
```
р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕бр╕▒р╕Фр╕Ир╕│:        [р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕Зр╕┤р╕Щр╕Др╕Зр╕Чр╕╡р╣И]
р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╕бр╕▒р╕Фр╕Ир╕│:          р╕┐50,000.00
```

## р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ (Usage)

### р╣Гр╕Щ InvoiceDetailDialog.jsx:
```jsx
import { FinancialSummarySection } from '../../shared/components';

// р╣Гр╕Кр╣Йр╣Гр╕Щ component
<Grid item xs={12}>
  <FinancialSummarySection invoice={invoice} />
</Grid>
```

### Props:
```javascript
FinancialSummarySection.propTypes = {
  invoice: PropTypes.object.isRequired // р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Ър╣Бр╕Ир╣Йр╕Зр╕лр╕Щр╕╡р╣Йр╕Ир╕▓р╕Б API
};
```

## Styling & Design

### Colors:
- **Primary**: р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕Ур╕лр╕ер╕▒р╕Б
- **Warning**: р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕бр╕▒р╕Фр╕Ир╕│  
- **Success**: р╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ
- **Error**: р╕вр╕нр╕Фр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н

### Icons:
- ЁЯзо **Calculate**: р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕У
- ЁЯТ░ **MonetizationOn**: р╕бр╕▒р╕Фр╕Ир╕│
- ЁЯТ│ **Payment**: р╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ

### Layout:
- **InfoCard**: р╣Бр╕Хр╣Ир╕ер╕░р╕кр╣Ир╕зр╕Щр╣Бр╕вр╕Бр╣Ар╕Ыр╣Зр╕Щ card
- **Grid System**: р╕Ир╕▒р╕Фр╕зр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Ыр╣Зр╕Щ 2 р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М
- **Divider**: р╣Бр╕Ър╣Ир╕Зр╕кр╣Ир╕зр╕Щр╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕У
- **Chips**: р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╣Бр╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Ч

## Features р╕Юр╕┤р╣Ар╕ир╕й

### 1. Format р╕Хр╕▒р╕зр╣Ар╕ер╕В
```javascript
const formatCurrency = (amount) => {
  return num.toLocaleString('th-TH', {
    minimumFractionDigits: 2,
    maximumFractionDigits: 2,
  });
};
```

### 2. Conditional Display
- р╣Бр╕кр╕Фр╕Зр╕кр╣Ир╕зр╕Щр╕ер╕Фр╣Ар╕Йр╕Юр╕▓р╕░р╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡р╕Бр╕▓р╕гр╕ер╕Ф
- р╣Бр╕кр╕Фр╕З VAT р╣Ар╕Йр╕Юр╕▓р╕░р╣Ар╕бр╕╖р╣Ир╕н `has_vat: true`
- р╣Бр╕кр╕Фр╕Зр╕лр╕▒р╕Бр╕ар╕▓р╕йр╕╡р╣Ар╕Йр╕Юр╕▓р╕░р╣Ар╕бр╕╖р╣Ир╕н `has_withholding_tax: true`
- р╣Бр╕кр╕Фр╕Зр╕бр╕▒р╕Фр╕Ир╕│р╣Ар╕Йр╕Юр╕▓р╕░р╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡ `deposit_amount > 0`

### 3. Status Colors
- **р╣Ар╕Вр╕╡р╕вр╕з**: р╕Кр╕│р╕гр╕░р╕Др╕гр╕Ър╣Бр╕ер╣Йр╕з
- **р╣Бр╕Фр╕З**: р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╕Кр╕│р╕гр╕░
- **р╕кр╣Йр╕б**: р╣Ар╕Хр╕╖р╕нр╕Щр╕зр╕▒р╕Щр╕Др╕гр╕Ър╕Бр╕│р╕лр╕Щр╕Ф

## р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ (Testing Status)

тЬЕ **API Integration**: р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б `/api/v1/invoices/{id}` р╣Бр╕кр╕Фр╕Зр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З  
тЬЕ **Component Structure**: р╣Др╕бр╣Ир╕бр╕╡ syntax errors  
тЬЕ **Export/Import**: р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ InvoiceDetailDialog р╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕в  
тЬЕ **Responsive Design**: р╣Гр╕Кр╣Й MUI Grid system  

## р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Хр╣Ир╕нр╣Др╕Ы (Next Steps)

1. **Frontend Testing**: р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Гр╕Щ browser
2. **Edge Cases**: р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╣Ир╕▓р╕З р╣Ж (р╣Др╕бр╣Ир╕бр╕╡ VAT, р╕бр╕▒р╕Фр╕Ир╕│ 0, etc.)
3. **Responsive**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Гр╕Щ mobile
4. **Accessibility**: р╣Ар╕Юр╕┤р╣Ир╕б aria-labels р╕кр╕│р╕лр╕гр╕▒р╕Ъ screen readers

## р╕кр╕гр╕╕р╕Ы

р╕Хр╕нр╕Щр╕Щр╕╡р╣Й InvoiceDetailDialog р╕бр╕╡р╕кр╣Ир╕зр╕Щ **"р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ р╕вр╕нр╕Фр╣Ар╕Зр╕┤р╕Щр╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕У"** р╣Бр╕Ър╕Ър╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щр╣Бр╕ер╣Йр╕з р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Хр╕▓р╕бр╕Чр╕╡р╣Ир╕бр╕╡р╣Гр╕Щр╕Хр╕▓р╕гр╕▓р╕З invoices р╕нр╕вр╣Ир╕▓р╕Зр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╣Бр╕ер╕░р╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕Зр╣Ир╕▓р╕в
