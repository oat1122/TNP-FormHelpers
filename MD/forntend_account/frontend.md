# ออกแบบ Frontend ระบบ Account แบบ FlowAccount

## 🎨 Overview หลักการออกแบบ

### แนวคิดหลัก
- **Clean & Professional** - ดีไซน์สะอาด เหมาะกับธุรกิจ
- **One-Click Conversion** - แปลงเอกสารด้วยคลิกเดียวเหมือน FlowAccount  
- **Multi-Role Support** - รองรับฝ่ายขาย/บัญชี/ผู้ดูแลระบบ
- **Mobile Responsive** - ใช้งานได้ทุกอุปกรณ์
- **Status-Driven UI** - แสดงสถานะชัดเจนทุกขั้นตอน

---

## 📱 Main Layout Structure

### 1. Header Navigation
```
[TNP Logo] | [Dashboard] [ใบเสนอราคา] [ใบแจ้งหนี้] [ใบเสร็จ/ใบกำกับ] [ใบส่งของ] | [🔔] [👤 User]
```

### 2. Sidebar (Collapsible)
```
📊 Dashboard
📋 เอกสาร
  ├── 📄 ใบเสนอราคา (12)
  ├── 💰 ใบแจ้งหนี้ (8)  
  ├── 🧾 ใบเสร็จ/ใบกำกับภาษี (5)
  └── 📦 ใบส่งของ (3)
👥 ลูกค้า
📦 สินค้า/บริการ
📈 รายงาน
⚙️ ตั้งค่า
```

### 3. Main Content Area
```
[Breadcrumb] > เอกสาร > ใบเสนอราคา

[Filter Bar] [Search] [+ สร้างใหม่]

[Document List/Form Content]

[Footer with pagination]
```

---

## 🎯 Dashboard Overview

### Quick Stats Cards
```
┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐
│ รอดำเนินการ       │ │ รอเก็บเงิน        │ │ ยอดขายเดือนนี้    │ │ ลูกค้าใหม่        │
│ 15 รายการ        │ │ ฿125,000        │ │ ฿2,450,000      │ │ 8 ราย           │
│ 📋 ดูทั้งหมด     │ │ 💰 ดูทั้งหมด    │ │ 📈 +12% จากเดือนที่แล้ว │ │ 👥 ดูทั้งหมด    │
└─────────────────┘ └─────────────────┘ └─────────────────┘ └─────────────────┘
```

### Recent Activities
```
📋 กิจกรรมล่าสุด
─────────────────────────────────
⏰ 10:30  สร้างใบเสนอราคา QT202501-0045  [ดู]
⏰ 09:15  อนุมัติใบแจ้งหนี้ INV202501-0123  [ดู] 
⏰ 08:45  ส่งใบกำกับภาษี RCPT202501-0089  [ดู]
```

### Revenue Chart
```
📈 ยอดขาย 6 เดือนย้อนหลัง
─────────────────────────────────
[Interactive Chart แสดงยอดขายรายเดือน]
```

---

## 📄 Document Listing Pages

### Quotation List Example
```
ใบเสนอราคา                                          [+ สร้างใบเสนอราคาใหม่]

🔍 [ค้นหา...] 📅 [วันที่] 👤 [ลูกค้า] 🏷️ [สถานะ] 🔄 [รีเฟรช]

Tabs: [ทั้งหมด(45)] [ร่าง(12)] [รอตรวจ(8)] [อนุมัติ(15)] [ปฏิเสธ(3)] [สำเร็จ(7)]

┌─────────────────────────────────────────────────────────────────────────────┐
│ QT202501-0045  บริษัท ABC จำกัด                    ฿125,000.00  🟡 รอตรวจ  │
│ วันที่: 15 ม.ค. 2568  |  ครบกำหนด: 28 ม.ค. 2568                           │
│ [👁️ ดู] [✏️ แก้ไข] [📄 PDF] [✅ อนุมัติ] [❌ ปฏิเสธ] [📋 สร้างใบแจ้งหนี้]      │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│ QT202501-0044  ร้าน XYZ                           ฿89,500.00   🟢 อนุมัติ   │
│ วันที่: 14 ม.ค. 2568  |  ครบกำหนด: 27 ม.ค. 2568                           │
│ [👁️ ดู] [📄 PDF] [📋 สร้างใบแจ้งหนี้] [📦 สร้างใบส่งของ]                      │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Status Color System
- 🟢 **อนุมัติ/สำเร็จ** - เขียว
- 🟡 **รอดำเนินการ** - เหลือง  
- 🔴 **ปฏิเสธ/เกินกำหนด** - แดง
- 🔵 **ร่าง** - น้ำเงิน
- ⚫ **ยกเลิก** - เทา

---

## ✏️ Document Form Pages

### 1. Quotation Form (Step-by-Step)

#### Header Section
```
สร้างใบเสนอราคา                                      [บันทึกร่าง] [ส่งตรวจสอบ]

Step: ● ข้อมูลลูกค้า → ● รายการสินค้า → ○ สรุปและยืนยัน
```

#### Step 1: Customer Info
```
┌─ ข้อมูลลูกค้า ─────────────────────────────────────┐
│ 🔍 ค้นหาลูกค้า: [ABC บริษัท...      ] [+ เพิ่มใหม่] │
│                                                   │
│ ชื่อลูกค้า: [บริษัท ABC จำกัด                    ] │
│ ที่อยู่: [123 ถนนสุขุมวิท แขวง...                 ] │
│ เลขประจำตัวผู้เสียภาษี: [1234567890123           ] │
│ ผู้ติดต่อ: [คุณสมชาย โทร. 02-123-4567             ] │
└───────────────────────────────────────────────────┘
```

#### Step 2: Product Items
```
┌─ รายการสินค้า/บริการ ──────────────────────────────┐
│ [+ เพิ่มรายการ]                                   │
│                                                   │
│ 1. 🔍 [ค้นหาสินค้า/บริการ...] จำนวน:[2] ราคา:[25,000] │
│    หน่วย: [ชิ้น] ส่วนลด: [0%] รวม: [฿50,000]        │
│                                         [❌ ลบ]   │
│                                                   │
│ 2. [เพิ่มรายการ...]                               │
│                                                   │
│ ───────────────────────────────────────────────── │
│ รวมก่อนภาษี:                          ฿50,000.00  │
│ ภาษีมูลค่าเพิ่ม 7%:                    ฿3,500.00   │
│ รวมทั้งสิ้น:                          ฿53,500.00   │
└───────────────────────────────────────────────────┘
```

#### Step 3: Terms & Summary
```
┌─ เงื่อนไขและการชำระเงิน ──────────────────────────┐
│ เงื่อนไขการชำระ: [○ เงินสด ● เครดิต 30 วัน      ] │
│ เงินมัดจำ: [○ ไม่มี ● 50% ○ 100% ○ อื่นๆ]        │
│ จำนวนเงินมัดจำ: [฿26,750.00]                      │
│ ยอดคงเหลือ: [฿26,750.00]                         │
│                                                   │
│ วันที่ครบกำหนด: [📅 28 ม.ค. 2568]                 │
│ หมายเหตุ: [ราคานี้รวม...                         ] │
└───────────────────────────────────────────────────┘

[⬅️ ย้อนกลับ] [บันทึกร่าง] [ส่งตรวจสอบ ➡️]
```

### 2. Approval Workflow UI

#### For Reviewer (ฝ่ายบัญชี)
```
┌─ ตรวจสอบใบเสนอราคา QT202501-0045 ────────────────┐
│ 📋 สถานะ: รอการตรวจสอบ                            │
│ 👤 สร้างโดย: คุณสมชาย (ฝ่ายขาย)                   │
│ 📅 วันที่สร้าง: 15 ม.ค. 2568 10:30               │
│                                                   │
│ [📄 ดูรายละเอียดเต็ม] [📎 เอกสารแนบ]               │
│                                                   │
│ 💬 หมายเหตุการตรวจสอบ:                            │
│ [ตรวจสอบข้อมูลลูกค้าและราคาแล้ว เห็นควรอนุมัติ     ] │
│                                                   │
│ [❌ ปฏิเสธ] [✏️ ส่งกลับแก้ไข] [✅ อนุมัติ]           │
└───────────────────────────────────────────────────┘
```

### 3. Document Conversion

#### One-Click Convert (เหมือน FlowAccount)
```
┌─ ใบเสนอราคา QT202501-0045 (อนุมัติแล้ว) ─────────┐
│                                                   │
│ 🎯 ขั้นตอนถัดไป:                                  │
│                                                   │
│ [📋 สร้างใบแจ้งหนี้] ← คลิกเดียวดึงข้อมูลทั้งหมด   │
│ [📦 สร้างใบส่งของ]                               │
│ [📄 ดาวน์โหลด PDF]                               │
│ [📧 ส่งอีเมลลูกค้า]                               │
│                                                   │
└───────────────────────────────────────────────────┘
```

---

## 📊 Advanced Features

### 1. Bulk Actions
```
☑️ เลือกทั้งหมด  [📧 ส่งอีเมลกลุ่ม] [📄 ออก PDF รวม] [🗑️ ลบที่เลือก]

☑️ QT202501-0045  บริษัท ABC จำกัด      ฿125,000.00
☑️ QT202501-0044  ร้าน XYZ             ฿89,500.00  
☐ QT202501-0043  บริษัท DEF จำกัด      ฿67,800.00
```

### 2. Advanced Search & Filter
```
🔍 การค้นหาขั้นสูง                                   [🔽]
──────────────────────────────────────────────────────
เลขที่เอกสาร: [QT202501-]    ลูกค้า: [เลือกลูกค้า...]
วันที่: [📅 จาก] ถึง [📅 ถึง]  ยอดเงิน: [฿] ถึง [฿]
สถานะ: [☑️ ร่าง] [☑️ รอตรวจ] [☐ อนุมัติ]
ผู้สร้าง: [เลือกพนักงาน...]    แท็ก: [#urgent]

[🔄 รีเซ็ต] [🔍 ค้นหา]
```

### 3. Document Timeline
```
📋 ประวัติเอกสาร QT202501-0045
────────────────────────────────────────
⏰ 15 ม.ค. 10:30  สร้างโดย คุณสมชาย (ฝ่ายขาย)
⏰ 15 ม.ค. 14:20  ส่งตรวจสอบ
⏰ 15 ม.ค. 16:45  อนุมัติโดย คุณสมใจ (ฝ่ายบัญชี)
⏰ 16 ม.ค. 09:00  สร้างใบแจ้งหนี้ INV202501-0123
⏰ 20 ม.ค. 13:30  ชำระเงินมัดจำ ฿26,750
```

### 4. File Upload & Attachment
```
┌─ เอกสารแนบ ───────────────────────────────────────┐
│ 📎 สัญญา_ABC_2568.pdf (2.5 MB)            [❌ ลบ] │
│ 📎 หลักฐานการโอนเงิน.jpg (1.2 MB)         [❌ ลบ] │
│                                                   │
│ [📁 เพิ่มไฟล์] หรือลากไฟล์มาวางที่นี่             │
│ รองรับ: PDF, DOC, XLS, JPG, PNG (ไม่เกิน 10MB)    │
└───────────────────────────────────────────────────┘
```

---

## 📱 Mobile Responsive Design

### Mobile Navigation
```
☰ TNP Account    🔔 👤

📊 Dashboard
📋 เอกสาร (28)
   ├─ ใบเสนอราคา (12)
   ├─ ใบแจ้งหนี้ (8)
   ├─ ใบเสร็จ (5)
   └─ ใบส่งของ (3)
👥 ลูกค้า
📦 สินค้า
```

### Mobile Card Layout
```
┌─────────────────────────────┐
│ QT202501-0045      🟡 รอตรวจ │
│ บริษัท ABC จำกัด             │
│ ฿125,000.00                 │
│ 15 ม.ค. 2568               │
│                             │
│ [👁️] [✏️] [📄] [✅] [❌]      │
└─────────────────────────────┘
```

---

## 🎨 UI Components Specification

### Color Palette
```
Primary:   #1976d2 (Material Blue)
Secondary: #dc004e (TNP Brand)
Success:   #2e7d32 (Green)
Warning:   #ed6c02 (Orange) 
Error:     #d32f2f (Red)
Info:      #0288d1 (Light Blue)
```

### Typography
```
H1: Kanit 32px Bold
H2: Kanit 24px SemiBold
H3: Kanit 20px Medium
Body: Sarabun 16px Regular
Caption: Sarabun 14px Regular
```

### Spacing System
```
xs: 4px   (padding/margin)
sm: 8px   
md: 16px  
lg: 24px  
xl: 32px  
xxl: 48px 
```

---

## 🔐 Role-Based UI Elements

### Sales Role (ฝ่ายขาย)
- **เห็น**: สร้าง แก้ไข ดู ส่งตรวจสอบ
- **ไม่เห็น**: ปุ่มอนุมัติ/ปฏิเสธ, แก้ไขหลังอนุมัติ

### Account Role (ฝ่ายบัญชี)  
- **เห็น**: ทุกอย่าง + อนุมัติ/ปฏิเสธ + แก้ไขได้ทุกเวลา
- **พิเศษ**: ดูรายงานการเงิน, ย้อนสถานะ

### Admin Role (ผู้ดูแลระบบ)
- **เห็น**: ทุกอย่าง + ตั้งค่าระบบ + จัดการผู้ใช้

### Role-based Button Example
```jsx
{userRole === 'account' && (
  <Button variant="contained" color="success">
    ✅ อนุมัติ
  </Button>
)}

{userRole === 'sales' && status === 'draft' && (
  <Button variant="outlined">
    ✏️ แก้ไข
  </Button>
)}
```

---

## 🚀 Performance & UX Optimizations

### Loading States
```
┌─ กำลังโหลด... ────────────────────┐
│ [████████████░░░░░] 75%          │
│ กำลังดึงข้อมูลใบเสนอราคา...        │
└──────────────────────────────────┘
```

### Error Handling
```
⚠️ เกิดข้อผิดพลาด
ไม่สามารถโหลดข้อมูลได้ กรุณาลองใหม่

[🔄 ลองใหม่] [📞 ติดต่อ IT]
```

### Success Messages
```
✅ บันทึกสำเร็จ!
ใบเสนอราคา QT202501-0045 ถูกสร้างเรียบร้อยแล้ว

[📄 ดู PDF] [📧 ส่งลูกค้า] [➡️ สร้างใบแจ้งหนี้]
```

---

## 📈 Integration Points

### 1. Pricing System Integration
```
┌─ นำเข้าจากระบบราคา ─────────── ┐
│ 🔍 ค้นหางาน: [PRC-2025-001] │
│                              │
│ ✅ PRC-2025-001 (Complete)   │
│    ลูกค้า: บริษัท ABC จำกัด   │
│    ยอดรวม: ฿125,000         │
│                              │
│ [📋 สร้างใบเสนอราคา]         │
└──────────────────────────────┘
```

### 2. PDF Generation
```
📄 สร้าง PDF
──────────────────
[📋] แบบฟอร์มมาตรฐาน
[🎨] แบบฟอร์มกำหนดเอง  
[🌍] ภาษาอังกฤษ
[📧] แนบลายเซ็นดิจิทัล

[📄 สร้าง PDF] [📧 ส่งอีเมล]
```

### 3. Email Integration
```
📧 ส่งอีเมลลูกค้า
─────────────────────────
ถึง: [abc@company.com]
หัวข้อ: [ใบเสนอราคา QT202501-0045]
เทมเพลต: [📋 เลือกเทมเพลท...]

💬 ข้อความ:
[เรียน คุณลูกค้า
ได้แนบใบเสนอราคาตามที่ท่านสอบถามแล้วครับ...]

[📎 แนบ PDF] [📧 ส่งเลย]
```

---

## 🔧 Technical Implementation Notes

### State Management (Zustand)
```js
// accountingStore.js
const useAccountingStore = create((set) => ({
  quotations: [],
  selectedQuotation: null,
  filters: { status: 'all', customer: null },
  
  setQuotations: (quotations) => set({ quotations }),
  setFilters: (filters) => set((state) => ({ 
    filters: { ...state.filters, ...filters } 
  })),
}))
```

### API Integration (React Query)
```js
// useQuotations.js
const useQuotations = (filters) => {
  return useQuery({
    queryKey: ['quotations', filters],
    queryFn: () => quotationApi.getAll(filters),
    staleTime: 5 * 60 * 1000, // 5 minutes
  })
}
```

### Form Validation (React Hook Form + Yup)
```js
const quotationSchema = yup.object({
  customer_id: yup.string().required('กรุณาเลือกลูกค้า'),
  items: yup.array().min(1, 'กรุณาเพิ่มรายการสินค้า'),
  payment_terms: yup.string().required('กรุณาเลือกเงื่อนไขการชำระ'),
})
```

---

## ✨ Summary

ระบบ Frontend นี้ออกแบบให้:

1. **ใช้งานง่าย** - เหมือน FlowAccount แปลงเอกสารคลิกเดียว
2. **ครอบคลุม** - ครบทุกขั้นตอนตาม Flow ที่กำหนด  
3. **ยืดหยุ่น** - รองรับกรณีพิเศษและการย้อนกลับ
4. **ปลอดภัย** - Role-based access control
5. **ทันสมัย** - Material UI + Responsive Design
6. **เสถียร** - Error handling + Loading states

ผลลัพธ์จะได้ระบบบัญชีที่ทันสมัย ใช้งานง่าย และรองรับการทำงานของธุรกิจได้อย่างมีประสิทธิภาพ